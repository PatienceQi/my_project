# 政策法规RAG问答系统操作手册

## 简介

本操作手册旨在指导用户如何使用政策法规RAG问答系统Demo 1.0。该系统是一个结合大语言模型（LLM）和Neo4j图数据库的智能问答平台，支持政策法规的查询、实体关系展示和答案溯源功能。本手册将详细介绍系统的安装、配置、操作步骤及常见问题解答。

## 系统概述

- **软件名称**：政策法规RAG问答系统Demo
- **版本号**：1.0
- **主要功能**：
  - 通过自然语言查询政策法规信息。
  - 展示政策法规中的实体及其关系。
  - 提供回答的出处，提升可信度。

## 安装与配置

### 运行环境要求

- **硬件环境（推荐）**：
  - 计算机配置：普通消费级PC或云服务器，建议Intel i5或AMD Ryzen 5处理器。
  - CPU：双核以上处理器。
  - 内存：最低4GB，推荐8GB。
  - 存储：至少500MB可用空间。

- **软件环境（推荐）**：
  - 操作系统：Windows 10/11、Linux（如Ubuntu 20.04）或macOS。
  - 支持软件及其版本：
    - Python 3.8+（运行后端服务）。
    - Neo4j 4.x或5.x（图数据库）。
    - 浏览器：现代浏览器如Chrome、Edge或Firefox。
    - Ollama（可选，本地部署大模型）。

### 安装步骤

1. **克隆项目代码**：
   从代码仓库下载或克隆项目到本地，确保目录结构完整。

2. **安装依赖**：
   打开终端，进入项目根目录，运行以下命令安装所需Python包：
   ```bash
   pip install -r requirements.txt
   ```

3. **配置环境变量**：
   在项目根目录下创建一个`.env`文件，配置Neo4j数据库连接信息和大模型API设置。例如：
   ```plaintext
   NEO4J_URI=neo4j://localhost:7687
   NEO4J_USERNAME=neo4j
   NEO4J_PASSWORD=password
   OLLAMA_MODEL=llama2
   ```

4. **启动Neo4j数据库**：
   确保Neo4j数据库已安装并运行（如通过Neo4j Desktop或命令行启动）。

5. **导入政策法规数据**：
   运行以下脚本，将政策法规数据导入Neo4j数据库：
   ```bash
   python scripts/import_policy_data.py
   ```

6. **启动后端服务**：
   在项目根目录下运行后端API服务：
   ```bash
   python backend/api_server.py
   ```
   后端服务默认运行在`http://localhost:5000`。

7. **访问前端界面**：
   打开浏览器，访问`frontend/index.html`文件（如通过`file://`协议直接打开，或者通过一个简单的HTTP服务器）。

## 操作指南

### 1. 系统登录与界面概述

- 打开前端页面后，无需登录即可直接使用。
- 界面主要分为以下区域：
  - **输入区域**：位于页面底部，用于输入查询问题。
  - **聊天区域**：显示用户提问和系统回答。
  - **状态区域**：显示当前系统状态，如是否连接到后端服务。

### 2. 查询政策法规

- 在输入区域输入您的问题，例如：“华侨经济文化合作试验区的政策有哪些？”
- 点击“发送”按钮或按回车键提交查询。
- 系统将返回相关回答，包括政策标题、章节或条款内容，并提供实体关系信息（如发布机构）。

### 3. 查看实体关系

- 在回答中，系统可能会展示与查询相关的实体关系图或列表，例如某个政策的发布机构或相关章节。
- 您可以点击实体名称，查看更多详细信息（视系统配置而定）。

### 4. 答案溯源

- 系统会在回答中标注信息来源，例如具体的政策文档标题和章节，确保回答可信。
- 您可以根据来源信息进一步查阅原始政策文档（需额外访问政策数据库或文件）。

## 常见问题解答

1. **系统无法启动后端服务怎么办？**
   - 检查是否正确安装了所有依赖项，运行`pip install -r requirements.txt`。
   - 确保Neo4j数据库正在运行，并且`.env`文件中的连接信息正确。
   - 查看终端输出，查找错误信息，根据提示解决。

2. **前端页面无法连接到后端服务怎么办？**
   - 确认后端服务已启动，默认地址为`http://localhost:5000`。
   - 检查浏览器控制台（F12）是否有连接错误，可能需要调整前端代码中的API地址。

3. **查询时系统没有返回相关回答怎么办？**
   - 确保政策法规数据已通过`import_policy_data.py`脚本导入Neo4j数据库。
   - 检查问题表述是否清晰，尝试用不同的方式提问。

4. **大模型回答不准确怎么办？**
   - 如果使用了本地Ollama部署的大模型，可能受限于模型能力，考虑更换更强大的模型或连接到外部API。
   - 检查回答的溯源信息，核实原始数据。

## 注意事项

- 本系统为Demo版本，数据和功能可能不完整，仅用于展示和测试目的。
- 使用时请确保政策法规数据的来源准确性，系统生成的回答仅供参考，不构成法律建议。
- 如需将系统用于生产环境，建议进一步优化大模型配置、扩展数据覆盖范围，并添加更多的错误处理和用户验证机制。

## 联系方式

如有任何问题或建议，请联系开发团队（联系方式待定）。

---

本操作手册为政策法规RAG问答系统软件著作权申请材料的一部分，旨在帮助用户了解系统的安装和使用方法。