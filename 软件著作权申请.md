一、软件著作权申请表基本信息

软件著作权申请表是申请过程中的核心文件之一，需要填写软件的基本信息。以下是一个通用的申请表基本信息模板（如果您未提供具体信息，相关字段将保留空白以供填写）：

- 软件名称：政策法规RAG问答系统Demo
- 软件版本号：1.0
- 软件开发完成日期：2025-7-12
- 软件首次发表日期：2025-7-12
- 申请人名称：
- 申请人地址：
- 联系人：
- 联系电话：
- 电子邮箱：
- 软件类别：
- 软件用途和技术领域：政策法规查询与问答，人工智能与图数据库技术

 二、软件说明书编写指南

以下是软件说明书的详细编写指南，涵盖了您需要添加的内容：

1. **软件概述**
   - **用途**：政策法规RAG问答系统旨在为用户提供一个便捷的查询工具，帮助用户快速获取与政策法规相关的信息，支持政策解读和问题解答，特别适用于政府部门、研究机构和企业合规团队。
   - **创作目的**：本软件的创作目的是结合大语言模型（LLM）和图数据库技术，构建一个智能问答系统，解决传统政策法规查询中信息分散、检索效率低的问题，提升信息获取的准确性和效率。

2. **主要功能**
   - **多模态查询**：支持文本输入查询，用户可以通过自然语言提出与政策法规相关的问题。
   - **实体关系展示**：基于Neo4j图数据库，展示政策法规中的实体（如政策、章节、条款）及其之间的关系（如发布机构）。
   - **答案溯源**：提供回答的出处，引用具体的政策标题和章节或条款内容，增强回答的可信度。

3. **技术特点**
   - **大模型集成**：通过Ollama与开源大模型API对接，利用自然语言处理技术生成用户友好的回答。
   - **图数据库应用**：采用Neo4j图数据库存储政策法规的结构化数据，支持复杂的实体关系查询和展示。
   - **语义检索前景**：规划集成文本嵌入模型，将政策法规文本切分为向量表示，用于高效的语义检索。

4. **开发与运行环境**
   - **开发软件采用的硬件环境**：
     - 计算机配置：普通开发PC或服务器，建议Intel i5或以上处理器。
     - CPU：支持多核处理器以加速数据处理。
     - 内存：至少8GB，建议16GB以上以支持大模型的本地运行或开发环境。
   - **软件运行所需的硬件环境（推荐）**：
     - 计算机配置：支持普通消费级PC或云服务器，建议Intel i5或AMD Ryzen 5处理器。
     - CPU：双核以上处理器。
     - 内存：最低4GB，推荐8GB以保证流畅运行。
     - 存储：至少500MB可用空间用于存储政策法规数据和代码。
   - **开发软件所需要的软件环境**：
     - 操作系统：Windows 10/11、Linux（如Ubuntu 20.04）或macOS。
     - 编译环境及其版本：Python 3.8+，支持Flask框架，Neo4j Desktop或企业版用于数据库开发。
   - **软件运行所需要的软件环境（推荐）**：
     - 操作系统：Windows 10/11、Linux（如Ubuntu 20.04）或macOS。
     - 支持软件及其版本：
       - Python 3.8+（运行后端服务）。
       - Neo4j 4.x或5.x（图数据库）。
       - 浏览器：现代浏览器如Chrome、Edge或Firefox，用于访问前端界面。
       - Ollama（可选，本地部署大模型）。

5. **开发软件采用的语言和编程工具版本**：
   - 开发语言：Python（后端服务）、HTML/CSS/JavaScript（前端界面）。
   - 编程工具及版本：
     - Python开发：PyCharm 2022+或VSCode with Python extension。
     - 前端开发：VSCode with HTML/CSS/JavaScript extensions。
     - 数据库管理：Neo4j Desktop 1.5+。

6. **软件总程序量（行）**：
   - 初步统计，整个系统代码量约为2000行（包括前端和后端代码，不含注释和空白行），具体数量以最终提交的源代码为准。

 2. 功能描述
- 多模态查询：用户可以通过文本输入查询政策法规信息，系统结合外部大模型API生成自然语言回答。
- 实体关系展示：基于Neo4j图数据库，展示政策法规中的实体（如机构、法规条文）及其关系。
- 答案溯源：提供查询结果的来源和依据，确保回答的可信度。
- 数据导入与处理：支持从JSON格式的政策法规数据文件导入信息，并通过大模型服务进行实体识别和关系抽取。

 3. 技术方案
- 技术架构：系统采用前后端分离架构，前端基于react框架，后端基于Python Flask框架。
- 数据库：使用Neo4j图数据库存储政策法规数据，支持复杂的实体关系查询。
- 外部服务：集成Ollama大模型服务，用于自然语言处理和实体识别。
- 数据流程：通过脚本读取`database`目录下的JSON文件，调用大模型服务处理后导入Neo4j数据库，前端通过API与后端交互实现查询功能。

 4. 系统结构
- 前端模块（frontend/）：负责用户界面展示和交互，包括查询输入、结果展示和关系图可视化。
- 后端模块（backend/）：提供API服务，处理查询请求，连接Neo4j数据库和大模型服务。
- 脚本模块（scripts/）：包括数据导入、测试数据库连接和模型服务的辅助工具。
- 数据存储（database/）：存储原始政策法规数据，格式为JSON。

 5. 操作说明
1. 环境配置：安装Python 3.12，配置Neo4j数据库和Ollama服务，详见README.md文件中的环境配置步骤。
2. 数据导入：运行`scripts/import_policy_data.py`脚本，将政策数据导入Neo4j数据库。
3. 后端启动：运行`backend/api_server.py`，启动后端API服务，默认地址为`http://127.0.0.1:5000`。
4. 前端访问：进入`frontend`目录，安装依赖并启动前端应用，默认运行在`http://localhost:3000`，通过浏览器访问即可查询政策法规。

 6. 开发环境与运行环境
列出软件开发和运行所需的环境条件。示例：
- 开发环境：Python 3.12，Node.js，Neo4j Desktop或命令行版本。
- 运行环境：支持Windows、Linux或MacOS系统，需安装Neo4j数据库和Ollama服务。
- 依赖包：Python依赖见`requirements.txt`，前端依赖见`frontend/package.json`。

 7. 其他说明
- 创新点：结合图数据库和大模型技术，实现政策法规的结构化查询和语义化问答。
- 特色功能：实体关系可视化展示，增强用户对法规内容的理解。

 三、其他申请材料提示

除软件说明书和申请表外，您可能还需要准备以下材料：
- 源代码：提交软件核心模块的源代码，包括`backend/api_server.py`、`scripts/import_policy_data.py`等关键文件，通常需要打印并提交指定页数（如前30页和后30页）。
- 用户操作手册：基于软件说明书的操作说明部分整理，确保内容详尽。
- 其他证明文件：如营业执照副本、开发合同等（根据实际情况准备）。

 四、注意事项
1. 确保提交的所有材料真实、准确，特别是申请表中的信息和软件说明书的内容。
2. 按照当地版权局的要求格式化材料，如纸质材料页数、字体、排版等。
3. 保护好源代码中的敏感信息，如有必要，可对代码进行部分删减，但需保留核心功能实现。
4. 在提交前测试软件，确保其功能与说明书描述一致。

如果您需要进一步的帮助，如整理具体文件内容或审查代码，请随时联系我。希望本指导文件对您的软件著作权申请有所帮助！

 代码实现

以下是政策法规RAG问答系统的部分核心代码实现，涵盖了前端界面、后端API服务以及数据库查询等关键模块：

 前端界面代码

前端界面采用HTML和CSS构建，支持用户输入问题并展示问答结果。以下是`frontend/index.html`中的部分代码，展示了聊天界面的结构：

```html
<div class="chat-box">
    <div class="messages" id="messages">
        <!-- 聊天消息将动态插入这里 -->
    </div>
    <div class="input-area">
        <input type="text" id="question" placeholder="请输入您的问题..." autocomplete="off">
        <button onclick="sendQuestion()">发送</button>
    </div>
</div>
```

 后端API服务与检索代码

后端使用Flask框架与Ollama大模型API交互，并通过Neo4j图数据库进行政策法规数据的检索。以下是`backend/api_server.py`中的部分代码，展示了如何从数据库中检索相关信息并生成回答：

```python
 查询Neo4j数据库
def query_neo4j(tx, query_text):
    query = (
        "MATCH (p:Policy) "
        "OPTIONAL MATCH (p)-[:HAS_SECTION]->(s:Section) "
        "OPTIONAL MATCH (s)-[:CONTAINS]->(sub:SubSection) "
        "OPTIONAL MATCH (p)-[:ISSUED_BY]->(a:Agency) "
        "WHERE p.title CONTAINS $query_text OR s.title CONTAINS $query_text OR sub.title CONTAINS $query_text "
        "RETURN p.title as policy_title, p.publish_agency as agency, s.title as section_title, s.content as section_content, sub.title as sub_title, sub.content as sub_content, a.name as agency_name "
        "LIMIT 5"
    )
    result = tx.run(query, query_text=query_text).data()
    return result

 生成政策问答结果
def get_policy_answer(question):
    try:
        with driver.session() as session:
            neo4j_results = session.read_transaction(query_neo4j, question)
            if neo4j_results:
                context = ""
                results = []
                for record in neo4j_results:
                    policy_title = record.get('policy_title', '未知政策')
                    section_title = record.get('section_title', '')
                    section_content = record.get('section_content', '内容暂无')
                    sub_title = record.get('sub_title', '')
                    sub_content = record.get('sub_content', '内容暂无')
                    agency_name = record.get('agency_name', '未知机构')
                    
                    context += f"政策标题: {policy_title}\n"
                    if section_title:
                        context += f"章节标题: {section_title}\n"
                        context += f"章节内容: {section_content}\n"
                    if sub_title:
                        context += f"条款标题: {sub_title}\n"
                        context += f"条款内容: {sub_content}\n"
                    context += f"发布机构: {agency_name}\n\n"
                    
                    content_to_display = sub_content if sub_content != '内容暂无' else section_content
                    results.append({
                        "policy_title": policy_title,
                        "section_title": section_title if section_title else sub_title,
                        "content": content_to_display,
                        "agency": agency_name,
                        "relation": "发布单位"
                    })
                 后续使用上下文生成回答逻辑
```

本系统暂未直接实现向量切片功能，但后续可以通过集成文本嵌入模型（如使用Ollama支持的嵌入模型）将政策法规文本切分为向量表示，用于更高效的语义检索。
